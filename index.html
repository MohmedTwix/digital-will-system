<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø§Ù„ÙˆØµÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #525a64 0%, #e8f4ff 100%);
            color: #1a3a5f;
            min-height: 100vh;
        }
        
        /* ===== Ø§Ù„Ù‡ÙŠØ¯Ø± ===== */
        .dashboard-header {
            background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%);
            color: white;
            padding: 25px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .user-avatar {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }
        
        .user-details h2 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .user-details p {
            opacity: 0.9;
            font-size: 0.95rem;
        }
        
        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.4);
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        /* ===== Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù„ÙˆØ­Ø© ===== */
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .welcome-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 2px solid #e8f4ff;
        }
        
        .welcome-section h1 {
            color: #1a3a5f;
            margin-bottom: 15px;
            font-size: 2.2rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .welcome-section h1 i {
            color: #50E3C2;
        }
        
        .progress-stats {
            display: flex;
            gap: 30px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .stat-box {
            flex: 1;
            min-width: 200px;
            background: #f8fbff;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #4A90E2;
        }
        
        .stat-box h3 {
            color: #5a7a9a;
            font-size: 1rem;
            margin-bottom: 10px;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1a3a5f;
        }
        
        /* ===== Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© ===== */
        .options-section {
            margin-bottom: 50px;
        }
        
        .section-title {
            color: #1a3a5f;
            font-size: 1.8rem;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .option-card {
            background: white;
            border-radius: 18px;
            padding: 35px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #e8f4ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .option-card:hover {
            transform: translateY(-10px);
            border-color: #4A90E2;
            box-shadow: 0 15px 35px rgba(74, 144, 226, 0.2);
        }
        
        .option-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #4A90E2, #50E3C2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
        }
        
        .option-card h3 {
            color: #1a3a5f;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .option-card p {
            color: #5a7a9a;
            line-height: 1.6;
        }
        
        /* ===== Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙØªÙŠØ´ ===== */
        .inspection-status {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border: 2px solid #e8f4ff;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .status-dot {
            width: 15px;
            height: 15px;
            background: #50E3C2;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .inspection-details {
            background: #f8fbff;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }
        
        /* ===== Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ ===== */
        .navigation-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 40px;
        }
        
        .nav-btn {
            padding: 18px 35px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 200px;
            justify-content: center;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(74, 144, 226, 0.3);
        }
        
        .btn-secondary {
            background: white;
            color: #4A90E2;
            border: 2px solid #4A90E2;
        }
        
        .btn-secondary:hover {
            background: #f0f7ff;
            transform: translateY(-3px);
        }
        
        /* ===== Ø§Ù„ÙÙˆØªØ± ===== */
        .dashboard-footer {
            text-align: center;
            padding: 30px;
            color: #5a7a9a;
            border-top: 1px solid #e8f4ff;
            margin-top: 50px;
        }
        
        /* ===== Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ===== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            border-right: 5px solid #50E3C2;
            display: none;
            z-index: 1000;
            max-width: 400px;
        }
        
        .notification.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* ===== ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„ ===== */
        @media (max-width: 768px) {
            .dashboard-header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .progress-stats {
                flex-direction: column;
            }
            
            .navigation-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="dashboard-header">
        <div class="user-info">
            <div class="user-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="user-details">
                <h2 id="user-name">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</h2>
                <p id="user-email">ahmed@example.com</p>
            </div>
        </div>
        <button class="logout-btn" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        </button>
    </header>
    
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="dashboard-container">
        <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
        <section class="welcome-section">
            <h1><i class="fas fa-tachometer-alt"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø§Ù„ÙˆØµÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h1>
            <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ! Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¯Ø§Ø±Ø© ÙˆØµÙŠØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙˆØ¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØªØ³Ø¬ÙŠÙ„ Ø±Ø³Ø§Ø¦Ù„Ùƒ.</p>
            
            <div class="progress-stats">
                <div class="stat-box">
                    <h3>Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¶Ø§ÙØ©</h3>
                    <div class="stat-value" id="contacts-count">0</div>
                </div>
                <div class="stat-box">
                    <h3>Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø³Ø¬Ù„Ø©</h3>
                    <div class="stat-value" id="messages-count">0</div>
                </div>
                <div class="stat-box">
                    <h3>Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
                    <div class="stat-value" style="color: #50E3C2;">Ù†Ø´Ø·</div>
                </div>
            </div>
        </section>
        
        <!-- Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙØªÙŠØ´ -->
        <section class="inspection-status">
            <div class="status-indicator">
                <div class="status-dot"></div>
                <h3 class="section-title"><i class="fas fa-robot"></i> Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙØªÙŠØ´ Ø§Ù„Ø°ÙƒÙŠ</h3>
            </div>
            <p>Ù†Ø¸Ø§Ù…Ù†Ø§ ÙŠØ±Ø§Ù‚Ø¨ Ø­Ø§Ù„ØªÙƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹. Ø³ÙŠØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© ØªÙØªÙŠØ´ Ø¨Ø¹Ø¯:</p>
            
            <div class="inspection-details">
                <p><i class="far fa-clock" style="color: #4A90E2;"></i> <strong>Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù‚Ø§Ø¯Ù…:</strong> <span id="next-inspection">6 Ø£Ø´Ù‡Ø±</span></p>
                <p><i class="fas fa-sms" style="color: #50E3C2;"></i> <strong>Ø¢Ø®Ø± Ø±Ø³Ø§Ù„Ø©:</strong> <span id="last-message">Ù„Ù… ØªØ±Ø³Ù„ Ø¨Ø¹Ø¯</span></p>
                <p><i class="fas fa-shield-alt" style="color: #4A90E2;"></i> <strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> <span style="color: #50E3C2; font-weight: bold;">Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙØªÙŠØ´ Ù†Ø´Ø·</span></p>
            </div>
        </section>
        
        <!-- Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© -->
        <section class="options-section">
            <h3 class="section-title"><i class="fas fa-plus-circle"></i> Ø§Ø®ØªØ± Ù…Ø§ ØªØ±ÙŠØ¯ Ø¥Ø¶Ø§ÙØªÙ‡</h3>
            
            <div class="options-grid">
                <!-- Ø®ÙŠØ§Ø± 1: Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ -->
                <div class="option-card" onclick="goToAddContacts('phone')">
                    <div class="option-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div>
                        <h3>ğŸ“± Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ</h3>
                        <p>Ø£Ø¶Ù Ø£Ø±Ù‚Ø§Ù… Ù‡ÙˆØ§ØªÙ Ù…Ø¹ Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ø¯ÙˆÙ„. Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆÙ„Ø© ÙˆØ£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… ÙˆØ§Ø³Ù… Ø§Ù„Ø´Ø®Øµ.</p>
                    </div>
                    <div style="color: #4A90E2; font-weight: bold; margin-top: 10px;">
                        <i class="fas fa-arrow-left"></i> Ø§Ù†Ù‚Ø± Ù„Ù„Ø¥Ø¶Ø§ÙØ©
                    </div>
                </div>
                
                <!-- Ø®ÙŠØ§Ø± 2: ÙÙŠØ³Ø¨ÙˆÙƒ/Ù…Ø§Ø³Ù†Ø¬Ø± -->
                <div class="option-card" onclick="goToAddContacts('social')">
                    <div class="option-icon">
                        <i class="fab fa-facebook-messenger"></i>
                    </div>
                    <div>
                        <h3>ğŸ‘¥ ÙÙŠØ³Ø¨ÙˆÙƒ / Ù…Ø§Ø³Ù†Ø¬Ø±</h3>
                        <p>Ø£Ø¶Ù Ø­Ø³Ø§Ø¨Ø§Øª ÙÙŠØ³Ø¨ÙˆÙƒ Ø£Ùˆ Ù…Ø§Ø³Ù†Ø¬Ø±. Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….</p>
                    </div>
                    <div style="color: #4A90E2; font-weight: bold; margin-top: 10px;">
                        <i class="fas fa-arrow-left"></i> Ø§Ù†Ù‚Ø± Ù„Ù„Ø¥Ø¶Ø§ÙØ©
                    </div>
                </div>
                
                <!-- Ø®ÙŠØ§Ø± 3: Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
                <div class="option-card" onclick="goToAddContacts('email')">
                    <div class="option-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div>
                        <h3>ğŸ“§ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¨Ø±ÙŠØ¯</h3>
                        <p>Ø£Ø¶Ù Ø¹Ù†Ø§ÙˆÙŠÙ† Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ. Ø³ØªØµÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¥Ù„Ù‰ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙˆØ§Ø±Ø¯ Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
                    </div>
                    <div style="color: #4A90E2; font-weight: bold; margin-top: 10px;">
                        <i class="fas fa-arrow-left"></i> Ø§Ù†Ù‚Ø± Ù„Ù„Ø¥Ø¶Ø§ÙØ©
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ -->
        <div class="navigation-buttons">
            <button class="nav-btn btn-secondary" onclick="viewContacts()">
                <i class="fas fa-eye"></i> Ø¹Ø±Ø¶ Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¶Ø§ÙØ©
            </button>
            
            <button class="nav-btn btn-primary" onclick="goToRecordMessages()">
                <i class="fas fa-microphone"></i> Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
            </button>
        </div>
    </div>
    
    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="dashboard-footer">
        <p><i class="fas fa-database"></i> Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø®Ø²Ù†Ø© ÙÙŠ MongoDB Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù† ÙˆÙ…Ø´ÙØ±</p>
        <p style="margin-top: 10px; font-size: 0.9rem;">Â© 2025 Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆØµÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© â€¢ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙØªÙŠØ´ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</p>
    </footer>
    
    <!-- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div class="notification" id="notification">
        <div id="notification-message">Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</div>
    </div>

    <script src="auth.js"></script>
    <script>
        // ============================================
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø³ÙŠØªÙ… Ø¬Ù„Ø¨Ù‡Ø§ Ù…Ù† MongoDB Ù„Ø§Ø­Ù‚Ø§Ù‹)
        // ============================================
        // Use AuthSystem to get current user when available
        let userData = {
            name: "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
            email: "ahmed@example.com",
            contacts: [],
            messages: [],
            nextInspection: "2025-06-14",
            inspectionActive: true
        };
        if (window.AuthSystem && AuthSystem.isAuthenticated()) {
            const u = AuthSystem.getUser();
            if (u) {
                userData.name = u.name || userData.name;
                userData.email = u.email || userData.email;
            }
        }
        
        // ============================================
        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¹Ø±Ø¶
        // ============================================
        
        // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
        function updateUserDisplay() {
            document.getElementById('user-name').textContent = userData.name;
            document.getElementById('user-email').textContent = userData.email;
            document.getElementById('contacts-count').textContent = userData.contacts.length;
            document.getElementById('messages-count').textContent = userData.messages.length;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„ØªÙØªÙŠØ´
            const nextDate = new Date(userData.nextInspection);
            const now = new Date();
            const diffTime = nextDate - now;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            const diffMonths = Math.floor(diffDays / 30);
            
            document.getElementById('next-inspection').textContent = 
                diffMonths > 0 ? `${diffMonths} Ø£Ø´Ù‡Ø±` : `${diffDays} Ø£ÙŠØ§Ù…`;
        }
        
        // ============================================
        // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
        // ============================================
        
        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
        function goToAddContacts(type) {
            localStorage.setItem('contactType', type);
            window.location.href = 'numbers.html';
        }
        
        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        function goToRecordMessages() {
            // check persisted contacts (per user) as well
            const contacts = JSON.parse(localStorage.getItem(AuthSystem ? AuthSystem.storageKey('contacts') : 'contacts') || '[]');
            if (!contacts || contacts.length === 0) {
                showNotification(`
                    <div style="margin-bottom: 10px;">
                        <i class="fas fa-exclamation-triangle" style="color: #ff9800;"></i>
                        <strong> âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬Ù‡Ø§Øª Ø§ØªØµØ§Ù„</strong>
                    </div>
                    <div style="background: #fff8e1; padding: 15px; border-radius: 8px; margin-top: 10px;">
                        <p>ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Øª Ø§ØªØµØ§Ù„ Ø£ÙˆÙ„Ø§Ù‹ Ù‚Ø¨Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„.</p>
                        <button onclick="goToAddContacts('phone')" style="background: #4A90E2; color: white; border: none; padding: 10px 20px; border-radius: 8px; margin-top: 10px; cursor: pointer;">
                            <i class="fas fa-plus"></i> Ø£Ø¶Ù Ø¬Ù‡Ø§Øª Ø§ØªØµØ§Ù„ Ø§Ù„Ø¢Ù†
                        </button>
                    </div>
                `, 5000);
                return;
            }
            
            window.location.href = 'record.html';
        }
        
        // Ø¹Ø±Ø¶ Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¶Ø§ÙØ©
        function viewContacts() {
            // redirect to numbers page that lists contacts
            window.location.href = 'numbers.html';
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            showNotification(`
                <div style="margin-bottom: 10px;">
                    <i class="fas fa-sign-out-alt" style="color: #4A90E2;"></i>
                    <strong> ØªØ£ÙƒÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</strong>
                </div>
                <div style="background: #f0f8ff; padding: 15px; border-radius: 8px; margin-top: 10px;">
                    <p>Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ</p>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button onclick="confirmLogout()" style="background: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; flex: 1;">
                            <i class="fas fa-check"></i> Ù†Ø¹Ù…ØŒ Ø³Ø¬Ù„ Ø®Ø±ÙˆØ¬
                        </button>
                        <button onclick="closeNotification()" style="background: #7F8C8D; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; flex: 1;">
                            <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                        </button>
                    </div>
                </div>
            `, 10000);
        }
        
        function confirmLogout() {
            showNotification('Ø¬Ø§Ø±Ù ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬Ùƒ...', 1200);
            setTimeout(() => {
                if (window.AuthSystem) AuthSystem.logout();
                window.location.href = 'login.html';
            }, 1200);
        }
        
        // ============================================
        // ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø©
        // ============================================
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(message, duration = 4000) {
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notification-message');
            
            notificationMessage.innerHTML = message;
            notification.classList.add('show');
            
            clearTimeout(notification.timeout);
            notification.timeout = setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
            
            return notification;
        }
        
        function closeNotification() {
            document.getElementById('notification').classList.remove('show');
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø© Ø§ØªØµØ§Ù„ ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶
        function addDemoContact() {
            userData.contacts.push({
                type: 'phone',
                name: 'Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯',
                number: '+966501234567',
                country: 'Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©'
            });
            updateUserDisplay();
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø© Ø§ØªØµØ§Ù„ ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!', 3000);
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶
        function addDemoMessage() {
            userData.messages.push({
                title: 'Ø±Ø³Ø§Ù„Ø© Ù„Ø£Ù…ÙŠ',
                duration: '2:30',
                date: new Date().toLocaleDateString('ar-SA')
            });
            updateUserDisplay();
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!', 3000);
        }
        
        // ============================================
        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            // require login
            if (window.AuthSystem && !AuthSystem.isAuthenticated()) {
                window.location.href = 'login.html';
                return;
            }

            // update display with current user info
            const u = window.AuthSystem && AuthSystem.getUser();
            if (u) {
                userData.name = u.name || userData.name;
                userData.email = u.email || userData.email;
                updateUserDisplay();
            } else {
                updateUserDisplay();
            }

            // Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶
            setTimeout(() => {
                showNotification(`
                    <div style="margin-bottom: 10px;">
                        <i class="fas fa-door-open" style="color: #50E3C2;"></i>
                        <strong> Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…!</strong>
                    </div>
                    <div style="background: #f0f8ff; padding: 15px; border-radius: 8px; margin-top: 10px;">
                        <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Øª Ø§ØªØµØ§Ù„ Ø£Ùˆ ØªØ³Ø¬ÙŠÙ„ Ø±Ø³Ø§Ø¦Ù„Ùƒ.</p>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button onclick="addDemoContact()" style="background: #4A90E2; color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; flex: 1;">
                                <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                            </button>
                            <button onclick="addDemoMessage()" style="background: #50E3C2; color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; flex: 1;">
                                <i class="fas fa-microphone"></i> Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                            </button>
                        </div>
                    </div>
                `, 8000);
            }, 1000);
        });
    </script>
</body>
</html>